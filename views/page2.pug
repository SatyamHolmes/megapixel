html
    head
        title Megapixel
        meta(name="viewport" content="width=device-width, initial-scale=1")
        link(href="/files/page.css" rel="stylesheet" type="text/css")
        script(src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js" type="text/javascript")
        script(src="/files/page.js" type="text/javascript")
    body
        div(id="optimise")
            div(id="header")
                h3(id="megapixel") Megapixel
            -var str="";
            -add.forEach((val,num)=>{
                -if(num==0)
                    -str+="add="+val;
                -else
                    -str+="&add="+val;
            -})
            -if(mode!="3")
                div(id="container")
                    div(class="parent-file-container")
                        div(class="files-container")
                            -files.forEach((val,num)=>{
                                -if(val.type=="folder")
                                    a(href="/megapixel/?"+str+"&add="+val.name+"&mode=2")
                                        div(class="file-icon-div")
                                            img(id="file-icon" src="/thumb/?"+str+"&add="+val.name) 
                                            p(id="file-name") #{val.name}
                                -else
                                    a(href="/megapixel/?"+str+"&add="+val.name+"&mode=2" class="file-list")
                                        div(class="image-thumbnail-div")
                                            img(id="file-icon" src="/thumb/?"+str+"&add="+val.name) 
                                            p(id="file-name") #{val.name}
                            -})
            -else
                div(class="mode-selector")
                    div(class="image-thumbnail-div")
                        a(href="/megapixel/?"+str+"&mode=1")
                            img(src="/images/mode1.png" id="file-icon")
                        p Table mode(fast)
                    div(class="image-thumbnail-div")
                        a(href="/megapixel/?"+str+"&mode=2")
                            img(src="/images/mode2.png" id="file-icon")
                        p Picture mode(little slow)
        div(id="file-view")
            div
                img(src="/images/close.png" id="close")
            div(class="view-table")
                div(id="left")
                    img(src="/images/arrowl.png" class="nav")
                div(id="file")
                div(id="right")
                    img(src="/images/arrowr.png" class="nav")
        
